<ng-container *ngIf="stream$ | async as stream">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-title">
      Investment Analysis - {{ stream.name }}
    </h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      tabindex="-1"
      (click)="modal.dismiss('Cross click')"
    ></button>
  </div>
  <div class="modal-body">
    <table class="table table-bordered table-hover table-striped">
      <thead>
        <tr>
          <th class="text-center" scope="col">Investment</th>
          <th class="text-center" scope="col">Breach Probability</th>
          <th class="text-center" scope="col">EBIS</th>
          <th class="text-center" scope="col">ENBIS Rate</th>
        </tr>
      </thead>
      <tbody>
        <!-- Input row -->
        <tr>
          <td scope="row" class="text-end">
            <input
              type="number"
              class="text-end"
              (keyup)="changeInvestment($event)"
            />
          </td>
          <td class="text-end">
            {{ investmentDetail.breachProbability | number }}
          </td>
          <td class="text-end">{{ investmentDetail.ebis | number }}</td>
          <td class="text-end">{{ investmentDetail.enbis | number }}</td>
        </tr>
        <tr
          *ngFor="let detail of stream.details"
          [class.highlight]="detail.investment === stream.optimalInvestment"
        >
          <td scope="row" class="text-end">{{ detail.investment | number }}</td>
          <td class="text-end">{{ detail.breachProbability | number }}</td>
          <td class="text-end">{{ detail.ebis | number }}</td>
          <td class="text-end">{{ detail.enbis | number }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-container>
